<!-- Filled Topic Card -->
<div *ngIf="topic && topic.id !== 'empty'"
     class="w-[100%] relative topic-item p-5 rounded-lg group overflow-hidden min-h-[14.5rem]">
  <!-- Gradient border animation -->
  <div class="absolute inset-0 bg-gradient-to-r from-[#93C5FD] via-[#60A5FA] to-[#3B82F6] opacity-75 animate-gradient-xy"></div>

  <!-- Blurred overlay -->
  <div class="absolute inset-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm"></div>

  <!-- Animated background shapes -->
  <div class="absolute -right-4 -top-4 w-16 h-16 bg-[#BFDBFE]/30 rounded-full blur-xl"></div>
  <div class="absolute -left-4 -bottom-4 w-20 h-20 bg-[#93C5FD]/30 rounded-full blur-xl"></div>

  <!-- Content container - using flex with justify-between -->
  <div class="relative h-full flex flex-col justify-between">
    <!-- Top content section -->
    <div>
      <!-- Header -->
      <h5 class="mb-2 text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#3B82F6] to-[#2563EB]">
        {{topic.name}}
      </h5>

      <!-- Description -->
      <p class="font-normal text-sm text-gray-600 dark:text-gray-400">
        {{presentDescriptionMessage | truncate : 52}}
      </p>
    </div>

    <!-- Bottom section - now uses flex layout instead of absolute positioning -->
    <div class="mt-8 flex items-center justify-between">
      <!-- Join Button -->
      <a (click)="onJoinTopic()"
         class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-[#60A5FA] to-[#3B82F6]
                text-white rounded-full text-sm font-medium shadow-lg transform transition-all duration-300
                hover:shadow-xl hover:scale-105 hover:from-[#3B82F6] hover:to-[#2563EB]
                focus:ring-2 focus:ring-[#3B82F6] focus:ring-offset-2">
        Join topic
        <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
        </svg>
      </a>

      <!-- Participants counter -->
      <div class="flex items-center space-x-2 bg-white/50 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-sm">
        <p class="text-lg font-semibold text-[#3B82F6]">{{topic.participants.length}}</p>
        <i class="fa-solid fa-user text-lg text-[#3B82F6]"></i>
      </div>
    </div>
  </div>
</div>

<!-- Empty Topic Card -->
<div *ngIf="topic && topic.id === 'empty'"
     class="w-[100%] relative topic-item p-5 rounded-lg group cursor-pointer overflow-hidden min-h-[180px]">
  <!-- Gradient border animation -->
  <div class="absolute inset-0 bg-gradient-to-r from-[#93C5FD] via-[#60A5FA] to-[#3B82F6] opacity-75 animate-gradient-xy"></div>

  <!-- Blurred overlay -->
  <div class="absolute inset-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm"></div>

  <!-- Animated background shapes -->
  <div class="absolute -right-4 -top-4 w-16 h-16 bg-[#BFDBFE]/30 rounded-full blur-xl"></div>
  <div class="absolute -left-4 -bottom-4 w-20 h-20 bg-[#93C5FD]/30 rounded-full blur-xl"></div>

  <!-- Content container -->
  <div class="relative flex flex-col items-center justify-center space-y-3 transition-all duration-300 group-hover:transform group-hover:scale-105">
    <!-- Icon -->
    <div class="w-12 h-12 bg-gradient-to-br from-[#60A5FA] to-[#3B82F6] rounded-full flex items-center justify-center mb-1 shadow-lg group-hover:shadow-xl transition-all">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
      </svg>
    </div>

    <!-- Text content -->
    <h3 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#3B82F6] to-[#2563EB]">
      Create a topic!
    </h3>
    <p class="text-sm text-gray-600 dark:text-gray-300 text-center max-w-[80%]">
      Create a new topic and fill this topic slot
    </p>

    <!-- Button with hover effects -->
    <button class="mt-2 px-4 py-2 bg-gradient-to-r from-[#60A5FA] to-[#3B82F6] text-white rounded-full
                   text-sm font-medium shadow-lg transform transition-all duration-300
                   hover:shadow-xl hover:scale-105 hover:from-[#3B82F6] hover:to-[#2563EB]
                   focus:ring-2 focus:ring-[#3B82F6] focus:ring-offset-2" (click)="onCreateTopic()">
      Create topic
    </button>
  </div>
</div>
